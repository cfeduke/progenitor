module "firehose" {
{{if .UseReporting}}
  source = "git@github.com:caring/tf-modules.git//aws/firehose_monitoring_reporting?ref=v1.6.0"
{{else}}
  source = "git@github.com:caring/tf-modules.git//aws/firehose_monitoring?ref=v1.6.0"
{{end}}

  service_name              = local.service_name
  task_role_name            = aws_iam_role.ecs_task_role.name
{{if .UseReporting}}
  storage_aws_iam_user_arn  = var.storage_aws_iam_user_arn
  storage_aws_external_id   = var.storage_aws_external_id
  snowpipe_sqs_arn          = var.snowpipe_sqs_arn
{{end}}
  tags = local.tags
}
