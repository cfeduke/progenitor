package db

var statements = map[string]string{
  // inserts a new row into the {{toplural .DBModel}} table
  "create-{{.DBModel}}": `
  INSERT INTO {{toplural .DBModel}} ({{.DBModel}}_id, name)
    values(UUID_TO_BIN(?), ?)
  `,
  // soft deletes a {{.DBModel}} by id
  "delete-{{.DBModel}}": `
  UPDATE
    {{toplural .DBModel}}
  SET
    deleted_at = NOW()
  WHERE
    {{.DBModel}}_id = UUID_TO_BIN(?)
    AND deleted_at IS NULL
  `,
  // gets a single {{.DBModel}} row by id
  "get-{{.DBModel}}": `
  SELECT
    {{.DBModel}}_id, name
  FROM
    {{toplural .DBModel}}
  WHERE
    {{.DBModel}}_id = UUID_TO_BIN(?)
    AND deleted_at IS NULL
  `,
  // update a single {{.DBModel}} row by ID
  "update-{{.DBModel}}": `
  UPDATE
    {{toplural .DBModel}}
  SET
    name = ?
  WHERE
    {{.DBModel}}_id = UUID_TO_BIN(?)
    AND deleted_at IS NULL
  `,
}
