syntax = "proto3";
package {{topackage .Name}};

option go_package = "github.com/caring/{{.Name}}/api/pb";

service {{topascal .Name}}Service {
  rpc Ping (PingRequest)                  returns (PingResponse);
  rpc Create{{topascal .DBModel}}(Create{{topascal .DBModel}}Request) returns ({{topascal .DBModel}}Response) {}
  rpc Update{{topascal .DBModel}}(Update{{topascal .DBModel}}Request) returns ({{topascal .DBModel}}Response) {}
  rpc Delete{{topascal .DBModel}}(ByUUIDRequest)          returns ({{topascal .DBModel}}Response) {}
  rpc Get{{topascal .DBModel}}(ByUUIDRequest)             returns ({{topascal .DBModel}}Response) {}
}

// #################################
//          Ping
// #################################

message PingRequest {
  string data = 1;
}

message PingResponse {
  string data = 1;
}

// #################################
//          Shared Messages
// #################################
message ByIntIDRequest {
  int64 id = 1;
}

message ByUUIDRequest {
  string id = 1;
}

message LoadKeyRequest {
  repeated string keys = 1;
}

// #################################
//          {{topascal .DBModel}}
// #################################
message {{topascal .DBModel}}Response {
  string id = 1;
  string name = 2;
  string {{tolower .DBModel}} = 3;
}

message Create{{topascal .DBModel}}Request {
  string name = 1;
  string {{tolower .DBModel}} = 2;
}

message Update{{topascal .DBModel}}Request {
  string id = 1;
  string name = 2;
  string {{tolower .DBModel}} = 3;
}
